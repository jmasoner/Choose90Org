<!-- Shared static header for Choose90 hybrid site WITH DROPDOWN MENUS -->
<header class="site-header">
    <div class="container">
        <a href="/" class="logo">Choose<span>90</span>.</a>
        <div class="mobile-menu-btn">☰</div>
        <nav>
            <ul class="nav-links">
                <li><a href="/">Home</a></li>
                <li><a href="/about.html">Our Story</a></li>
                
                <!-- Pledge Dropdown -->
                <li class="nav-dropdown">
                    <a href="/pledge/" class="btn btn-outline" style="padding: 8px 20px; border-radius: 5px;">
                        Join <span style="font-size: 12px;">▼</span>
                    </a>
                    <ul class="dropdown-menu">
                        <li><a href="/pledge/">Join the Movement</a></li>
                        <li><a href="/pledge-wall.html">Join Wall</a></li>
                        <li><a href="/new-years-resolution.html">New Year's Resolution</a></li>
                    </ul>
                </li>
                
                <!-- Resources Dropdown -->
                <li class="nav-dropdown">
                    <a href="/resources-hub.html">
                        Resources <span style="font-size: 12px;">▼</span>
                    </a>
                    <ul class="dropdown-menu">
                        <li><a href="/resources-hub.html">Resources Hub</a></li>
                        <li class="dropdown-divider"></li>
                        <li class="dropdown-header">Tools</li>
                        <li><a href="/tools/content-generator.html">Content Generator</a></li>
                        <li class="dropdown-divider"></li>
                        <li class="dropdown-header">Challenges</li>
                        <li><a href="/resources/30-day-choose90-challenge.html">30-Day Challenge</a></li>
                        <li><a href="/kwanzaa-challenge.html">7-Day Kwanzaa Challenge</a></li>
                        <li class="dropdown-divider"></li>
                        <li class="dropdown-header">Special Events</li>
                        <li><a href="/kwanzaa-choose90.html">Kwanzaa & Choose90</a></li>
                        <li><a href="/new-years-resolution.html">New Year's Resolution</a></li>
                    </ul>
                </li>
                
                <li><a href="/chapters/">Chapters</a></li>
                <li><a href="/login/" id="nav-login-link" style="color: #666; text-decoration: none;">Log In</a></li>
                <li><a href="/donate/" class="btn btn-starfield" style="padding: 8px 25px; border-radius: 50px;">Donate</a></li>
            </ul>
            <script>
                // Update login link based on authentication status
                (function() {
                    const loginLink = document.getElementById('nav-login-link');
                    if (!loginLink) return;
                    
                    function checkLogin() {
                        if (document.body.classList.contains('admin-bar')) {
                            loginLink.textContent = 'My Account';
                            loginLink.href = '/wp-admin/profile.php';
                            return;
                        }
                        
                        const cookies = document.cookie.split(';');
                        for (let i = 0; i < cookies.length; i++) {
                            if (cookies[i].trim().indexOf('wordpress_logged_in') !== -1) {
                                loginLink.textContent = 'My Account';
                                loginLink.href = '/wp-admin/profile.php';
                                return;
                            }
                        }
                        
                        fetch('/api/check-auth.php', { credentials: 'include' })
                            .then(r => r.json())
                            .then(data => {
                                if (data.logged_in) {
                                    loginLink.textContent = 'My Account';
                                    loginLink.href = '/wp-admin/profile.php';
                                }
                            })
                            .catch(() => {});
                    }
                    
                    if (document.readyState === 'loading') {
                        document.addEventListener('DOMContentLoaded', checkLogin);
                    } else {
                        checkLogin();
                    }
                })();
                
                // Dropdown menu functionality
                (function() {
                    document.querySelectorAll('.nav-dropdown').forEach(dropdown => {
                        const link = dropdown.querySelector('a');
                        const menu = dropdown.querySelector('.dropdown-menu');
                        
                        link.addEventListener('mouseenter', () => {
                            menu.style.display = 'block';
                        });
                        
                        dropdown.addEventListener('mouseleave', () => {
                            menu.style.display = 'none';
                        });
                    });
                })();
            </script>
        </nav>
    </div>
</header>

<style>
/* Dropdown Menu Styles */
.nav-dropdown {
    position: relative;
}

.dropdown-menu {
    display: none;
    position: absolute;
    top: 100%;
    left: 0;
    background: white;
    min-width: 220px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.15);
    border-radius: 12px;
    padding: 8px 0;
    margin-top: 8px;
    z-index: 1000;
    list-style: none;
}

.dropdown-menu li {
    margin: 0;
}

.dropdown-menu a {
    display: block;
    padding: 12px 20px;
    color: #374151;
    text-decoration: none;
    transition: all 0.2s;
    font-size: 15px;
}

.dropdown-menu a:hover {
    background: #f3f4f6;
    color: #667eea;
    padding-left: 24px;
}

.dropdown-header {
    padding: 8px 20px 4px;
    font-size: 12px;
    font-weight: 700;
    text-transform: uppercase;
    color: #9ca3af;
    letter-spacing: 0.5px;
}

.dropdown-divider {
    height: 1px;
    background: #e5e7eb;
    margin: 8px 0;
}

/* Mobile dropdown */
@media (max-width: 768px) {
    .dropdown-menu {
        position: static;
        box-shadow: none;
        background: #f9fafb;
        border-radius: 0;
        margin-top: 0;
        padding: 0;
    }
    
    .dropdown-menu a {
        padding-left: 40px;
    }
}
</style>


